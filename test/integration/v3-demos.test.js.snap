// Jest Snapshot v1, https://goo.gl/fbAQLP

exports[`GET /__origami/service/build/v3/demo when a valid component and demo are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello world!  The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;

exports[`GET /__origami/service/build/v3/demo when a valid component at specific version and demo and brand are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello employee 317. Hope you find this internal tool or product helpful. The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;

exports[`GET /__origami/service/build/v3/demo when a valid component at specific version and demo are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello world!  The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;

exports[`GET /v3/demo when a valid component and demo are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello world!  The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;

exports[`GET /v3/demo when a valid component at specific version and demo and brand are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello employee 317. Hope you find this internal tool or product helpful. The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;

exports[`GET /v3/demo when a valid component at specific version and demo are requested should respond with the built demo 1`] = `
"<!DOCTYPE html>
<html lang=\\"en\\" class=\\"\\">
<head>
	<meta charset=\\"utf-8\\" />
	<meta http-equiv=\\"X-UA-Compatible\\" content=\\"IE=Edge\\" />
	<title>@financial-times&#x2F;o-test-component: test-demo demo</title>
	<meta name=\\"viewport\\" content=\\"initial-scale=1.0, width=device-width\\" />
	<style>
		body {
			margin: 0;
		}
	</style>

		<script src=\\"https://polyfill.io/v3/polyfill.min.js?features=CustomEvent&flags=gated&unknown=polyfill\\"></script>


		<style>.o-test-component{padding:.5em 1em;background-color:pink}.o-test-component:after{content:'Hello world!  The square root of 64 is \\"8\\".'}
</style>
</head>
<body>
	<div data-o-component=\\"o-test-component\\" class=\\"o-test-component\\">
	</div>
	<script src=\\"https://registry.origami.ft.com/embedapi?autoload=resize\\"></script>
		<script>(function(){\\"use strict\\";function b(R){return b=typeof Symbol==\\"function\\"&&typeof Symbol.iterator==\\"symbol\\"?function(_){return typeof _}:function(_){return _&&typeof Symbol==\\"function\\"&&_.constructor===Symbol&&_!==Symbol.prototype?\\"symbol\\":typeof _},b(R)}(function(){var R=(typeof global==\\"undefined\\"?\\"undefined\\":b(global))==\\"object\\"&&global&&global.Object===Object&&global,_=R,Et=(typeof self==\\"undefined\\"?\\"undefined\\":b(self))==\\"object\\"&&self&&self.Object===Object&&self,Rt=_||Et||Function(\\"return this\\")(),w=Rt,Tt=w.Symbol,$=Tt,L=Object.prototype,kt=L.hasOwnProperty,Ct=L.toString,O=$?$.toStringTag:void 0;function It(t){var r=kt.call(t,O),n=t[O];try{t[O]=void 0;var e=!0}catch(a){}var o=Ct.call(t);return e&&(r?t[O]=n:delete t[O]),o}var Wt=It,Dt=Object.prototype,Gt=Dt.toString;function Kt(t){return Gt.call(t)}var Nt=Kt,Ut=\\"[object Null]\\",qt=\\"[object Undefined]\\",Q=$?$.toStringTag:void 0;function zt(t){return t==null?t===void 0?qt:Ut:Q&&Q in Object(t)?Wt(t):Nt(t)}var V=zt;function Bt(t){return t!=null&&b(t)==\\"object\\"}var X=Bt,Ht=\\"[object Symbol]\\";function Jt(t){return b(t)==\\"symbol\\"||X(t)&&V(t)==Ht}var Lt=Jt,Qt=Array.isArray,Vt=Qt,Xt=/\\\\s/;function Yt(t){for(var r=t.length;r--&&Xt.test(t.charAt(r)););return r}var Zt=Yt,tr=/^\\\\s+/;function rr(t){return t&&t.slice(0,Zt(t)+1).replace(tr,\\"\\")}var nr=rr;function er(t){var r=b(t);return t!=null&&(r==\\"object\\"||r==\\"function\\")}var m=er,Y=0/0,or=/^[-+]0x[0-9a-f]+$/i,ar=/^0b[01]+$/i,ur=/^0o[0-7]+$/i,ir=parseInt;function vr(t){if(typeof t==\\"number\\")return t;if(Lt(t))return Y;if(m(t)){var r=typeof t.valueOf==\\"function\\"?t.valueOf():t;t=m(r)?r+\\"\\":r}if(typeof t!=\\"string\\")return t===0?t:+t;t=nr(t);var n=ar.test(t);return n||ur.test(t)?ir(t.slice(2),n?2:8):or.test(t)?Y:+t}var cr=vr,Z=1/0,fr=17976931348623157e292;function lr(t){if(!t)return t===0?t:0;if(t=cr(t),t===Z||t===-Z){var r=t<0?-1:1;return r*fr}return t===t?t:0}var sr=lr;function pr(t){var r=sr(t),n=r%1;return r===r?n?r-n:r:0}var tt=pr;function hr(t){return t}var T=hr,_r=\\"[object AsyncFunction]\\",yr=\\"[object Function]\\",gr=\\"[object GeneratorFunction]\\",dr=\\"[object Proxy]\\";function br(t){if(!m(t))return!1;var r=V(t);return r==yr||r==gr||r==_r||r==dr}var wr=br,mr=w[\\"__core-js_shared__\\"],k=mr,rt=function(){var t=/[^.]+$/.exec(k&&k.keys&&k.keys.IE_PROTO||\\"\\");return t?\\"Symbol(src)_1.\\"+t:\\"\\"}();function jr(t){return!!rt&&rt in t}var Or=jr,Sr=Function.prototype,Ar=Sr.toString;function xr(t){if(t!=null){try{return Ar.call(t)}catch(r){}try{return t+\\"\\"}catch(r){}}return\\"\\"}var $r=xr,Pr=/[\\\\\\\\^$.*+?()[\\\\]{}|]/g,Mr=/^\\\\[object .+?Constructor\\\\]$/,Fr=Function.prototype,Er=Object.prototype,Rr=Fr.toString,Tr=Er.hasOwnProperty,kr=RegExp(\\"^\\"+Rr.call(Tr).replace(Pr,\\"\\\\\\\\$&\\").replace(/hasOwnProperty|(function).*?(?=\\\\\\\\\\\\()| for .+?(?=\\\\\\\\\\\\])/g,\\"$1.*?\\")+\\"$\\");function Cr(t){if(!m(t)||Or(t))return!1;var r=wr(t)?kr:Mr;return r.test($r(t))}var Ir=Cr;function Wr(t,r){return t==null?void 0:t[r]}var Dr=Wr;function Gr(t,r){var n=Dr(t,r);return Ir(n)?n:void 0}var nt=Gr,Kr=nt(w,\\"WeakMap\\"),et=Kr,Nr=et&&new et,P=Nr,Ur=P?function(t,r){return P.set(t,r),t}:T,ot=Ur,at=Object.create,qr=function(){function t(){}return function(r){if(!m(r))return{};if(at)return at(r);t.prototype=r;var n=new t;return t.prototype=void 0,n}}(),C=qr;function zr(t){return function(){var r=arguments;switch(r.length){case 0:return new t;case 1:return new t(r[0]);case 2:return new t(r[0],r[1]);case 3:return new t(r[0],r[1],r[2]);case 4:return new t(r[0],r[1],r[2],r[3]);case 5:return new t(r[0],r[1],r[2],r[3],r[4]);case 6:return new t(r[0],r[1],r[2],r[3],r[4],r[5]);case 7:return new t(r[0],r[1],r[2],r[3],r[4],r[5],r[6])}var n=C(t.prototype),e=t.apply(n,r);return m(e)?e:n}}var S=zr,Br=1;function Hr(t,r,n){var e=r&Br,o=S(t);function a(){var i=this&&this!==w&&this instanceof a?o:t;return i.apply(e?n:this,arguments)}return a}var Jr=Hr;function Lr(t,r,n){switch(n.length){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}var I=Lr,Qr=Math.max;function Vr(t,r,n,e){for(var o=-1,a=t.length,i=n.length,u=-1,v=r.length,f=Qr(a-i,0),c=Array(v+f),s=!e;++u<v;)c[u]=r[u];for(;++o<i;)(s||o<a)&&(c[n[o]]=t[o]);for(;f--;)c[u++]=t[o++];return c}var ut=Vr,Xr=Math.max;function Yr(t,r,n,e){for(var o=-1,a=t.length,i=-1,u=n.length,v=-1,f=r.length,c=Xr(a-u,0),s=Array(c+f),h=!e;++o<c;)s[o]=t[o];for(var l=o;++v<f;)s[l+v]=r[v];for(;++i<u;)(h||o<a)&&(s[l+n[i]]=t[o++]);return s}var it=Yr;function Zr(t,r){for(var n=t.length,e=0;n--;)t[n]===r&&++e;return e}var tn=Zr;function rn(){}var W=rn,nn=4294967295;function M(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=nn,this.__views__=[]}M.prototype=C(W.prototype),M.prototype.constructor=M;var D=M;function en(){}var on=en,an=P?function(t){return P.get(t)}:on,vt=an,un={},ct=un,vn=Object.prototype,cn=vn.hasOwnProperty;function fn(t){for(var r=t.name+\\"\\",n=ct[r],e=cn.call(ct,r)?n.length:0;e--;){var o=n[e],a=o.func;if(a==null||a==t)return o.name}return r}var ln=fn;function F(t,r){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!r,this.__index__=0,this.__values__=void 0}F.prototype=C(W.prototype),F.prototype.constructor=F;var G=F;function sn(t,r){var n=-1,e=t.length;for(r||(r=Array(e));++n<e;)r[n]=t[n];return r}var ft=sn;function pn(t){if(t instanceof D)return t.clone();var r=new G(t.__wrapped__,t.__chain__);return r.__actions__=ft(t.__actions__),r.__index__=t.__index__,r.__values__=t.__values__,r}var hn=pn,_n=Object.prototype,yn=_n.hasOwnProperty;function E(t){if(X(t)&&!Vt(t)&&!(t instanceof D)){if(t instanceof G)return t;if(yn.call(t,\\"__wrapped__\\"))return hn(t)}return new G(t)}E.prototype=W.prototype,E.prototype.constructor=E;var gn=E;function dn(t){var r=ln(t),n=gn[r];if(typeof n!=\\"function\\"||!(r in D.prototype))return!1;if(t===n)return!0;var e=vt(n);return!!e&&t===e[0]}var bn=dn,wn=800,mn=16,jn=Date.now;function On(t){var r=0,n=0;return function(){var e=jn(),o=mn-(e-n);if(n=e,o>0){if(++r>=wn)return arguments[0]}else r=0;return t.apply(void 0,arguments)}}var lt=On,Sn=lt(ot),st=Sn,An=/\\\\{\\\\n\\\\/\\\\* \\\\[wrapped with (.+)\\\\] \\\\*/,xn=/,? & /;function $n(t){var r=t.match(An);return r?r[1].split(xn):[]}var Pn=$n,Mn=/\\\\{(?:\\\\n\\\\/\\\\* \\\\[wrapped with .+\\\\] \\\\*\\\\/)?\\\\n?/;function Fn(t,r){var n=r.length;if(!n)return t;var e=n-1;return r[e]=(n>1?\\"& \\":\\"\\")+r[e],r=r.join(n>2?\\", \\":\\" \\"),t.replace(Mn,\\"{\\\\n/* [wrapped with \\"+r+\\"] */\\\\n\\")}var En=Fn;function Rn(t){return function(){return t}}var Tn=Rn,kn=function(){try{var t=nt(Object,\\"defineProperty\\");return t({},\\"\\",{}),t}catch(r){}}(),pt=kn,Cn=pt?function(t,r){return pt(t,\\"toString\\",{configurable:!0,enumerable:!1,value:Tn(r),writable:!0})}:T,In=Cn,Wn=lt(In),ht=Wn;function Dn(t,r){for(var n=-1,e=t==null?0:t.length;++n<e&&r(t[n],n,t)!==!1;);return t}var Gn=Dn;function Kn(t,r,n,e){for(var o=t.length,a=n+(e?1:-1);e?a--:++a<o;)if(r(t[a],a,t))return a;return-1}var Nn=Kn;function Un(t){return t!==t}var qn=Un;function zn(t,r,n){for(var e=n-1,o=t.length;++e<o;)if(t[e]===r)return e;return-1}var Bn=zn;function Hn(t,r,n){return r===r?Bn(t,r,n):Nn(t,qn,n)}var Jn=Hn;function Ln(t,r){var n=t==null?0:t.length;return!!n&&Jn(t,r,0)>-1}var Qn=Ln,Vn=1,Xn=2,Yn=8,Zn=16,te=32,re=64,ne=128,ee=256,oe=512,ae=[[\\"ary\\",ne],[\\"bind\\",Vn],[\\"bindKey\\",Xn],[\\"curry\\",Yn],[\\"curryRight\\",Zn],[\\"flip\\",oe],[\\"partial\\",te],[\\"partialRight\\",re],[\\"rearg\\",ee]];function ue(t,r){return Gn(ae,function(n){var e=\\"_.\\"+n[0];r&n[1]&&!Qn(t,e)&&t.push(e)}),t.sort()}var ie=ue;function ve(t,r,n){var e=r+\\"\\";return ht(t,En(e,ie(Pn(e),n)))}var _t=ve,ce=1,fe=2,le=4,se=8,yt=32,gt=64;function pe(t,r,n,e,o,a,i,u,v,f){var c=r&se,s=c?i:void 0,h=c?void 0:i,l=c?a:void 0,y=c?void 0:a;r|=c?yt:gt,r&=~(c?gt:yt),r&le||(r&=~(ce|fe));var j=[t,r,o,l,s,y,h,u,v,f],g=n.apply(void 0,j);return bn(t)&&st(g,j),g.placeholder=e,_t(g,t,r)}var dt=pe;function he(t){var r=t;return r.placeholder}var K=he,_e=9007199254740991,ye=/^(?:0|[1-9]\\\\d*)$/;function ge(t,r){var n,e=b(t);return r=(n=r)!==null&&n!==void 0?n:_e,!!r&&(e==\\"number\\"||e!=\\"symbol\\"&&ye.test(t))&&t>-1&&t%1==0&&t<r}var de=ge,be=Math.min;function we(t,r){for(var n=t.length,e=be(r.length,n),o=ft(t);e--;){var a=r[e];t[e]=de(a,n)?o[a]:void 0}return t}var me=we,bt=\\"__lodash_placeholder__\\";function je(t,r){for(var n=-1,e=t.length,o=0,a=[];++n<e;){var i=t[n];(i===r||i===bt)&&(t[n]=bt,a[o++]=n)}return a}var A=je,Oe=1,Se=2,Ae=8,xe=16,$e=128,Pe=512;function wt(t,r,n,e,o,a,i,u,v,f){var c=r&$e,s=r&Oe,h=r&Se,l=r&(Ae|xe),y=r&Pe,j=h?void 0:S(t);function g(){for(var d=arguments.length,p=Array(d),H=d;H--;)p[H]=arguments[H];if(l)var Mt=K(g),Xe=tn(p,Mt);if(e&&(p=ut(p,e,o,l)),a&&(p=it(p,a,i,l)),d-=Xe,l&&d<f){var Ye=A(p,Mt);return dt(t,r,wt,g.placeholder,n,p,Ye,u,v,f-d)}var Ft=s?n:this,J=h?Ft[t]:t;return d=p.length,u?p=me(p,u):y&&d>1&&p.reverse(),c&&v<d&&(p.length=v),this&&this!==w&&this instanceof g&&(J=j||S(J)),J.apply(Ft,p)}return g}var mt=wt;function Me(t,r,n){var e=S(t);function o(){for(var a=arguments.length,i=Array(a),u=a,v=K(o);u--;)i[u]=arguments[u];var f=a<3&&i[0]!==v&&i[a-1]!==v?[]:A(i,v);if(a-=f.length,a<n)return dt(t,r,mt,o.placeholder,void 0,i,f,void 0,void 0,n-a);var c=this&&this!==w&&this instanceof o?e:t;return I(c,this,i)}return o}var Fe=Me,Ee=1;function Re(t,r,n,e){var o=r&Ee,a=S(t);function i(){for(var u=-1,v=arguments.length,f=-1,c=e.length,s=Array(c+v),h=this&&this!==w&&this instanceof i?a:t;++f<c;)s[f]=e[f];for(;v--;)s[f++]=arguments[++u];return I(h,o?n:this,s)}return i}var Te=Re,jt=\\"__lodash_placeholder__\\",N=1,ke=2,Ce=4,Ot=8,x=128,St=256,Ie=Math.min;function We(t,r){var n=t[1],e=r[1],o=n|e,a=o<(N|ke|x),i=e==x&&n==Ot||e==x&&n==St&&t[7].length<=r[8]||e==(x|St)&&r[7].length<=r[8]&&n==Ot;if(!(a||i))return t;e&N&&(t[2]=r[2],o|=n&N?0:Ce);var u=r[3];if(u){var v=t[3];t[3]=v?ut(v,u,r[4]):u,t[4]=v?A(t[3],jt):r[4]}return u=r[5],u&&(v=t[5],t[5]=v?it(v,u,r[6]):u,t[6]=v?A(t[5],jt):r[6]),u=r[7],u&&(t[7]=u),e&x&&(t[8]=t[8]==null?r[8]:Ie(t[8],r[8])),t[9]==null&&(t[9]=r[9]),t[0]=r[0],t[1]=o,t}var De=We,Ge=\\"Expected a function\\",At=1,Ke=2,U=8,q=16,z=32,xt=64,$t=Math.max;function Ne(t,r,n,e,o,a,i,u){var v=r&Ke;if(!v&&typeof t!=\\"function\\")throw new TypeError(Ge);var f=e?e.length:0;if(f||(r&=~(z|xt),e=o=void 0),i=i===void 0?i:$t(tt(i),0),u=u===void 0?u:tt(u),f-=o?o.length:0,r&xt){var c=e,s=o;e=o=void 0}var h=v?void 0:vt(t),l=[t,r,n,e,o,c,s,a,i,u];if(h&&De(l,h),t=l[0],r=l[1],n=l[2],e=l[3],o=l[4],u=l[9]=l[9]===void 0?v?0:t.length:$t(l[9]-f,0),!u&&r&(U|q)&&(r&=~(U|q)),!r||r==At)var y=Jr(t,r,n);else r==U||r==q?y=Fe(t,r,u):(r==z||r==(At|z))&&!o.length?y=Te(t,r,n,e):y=mt.apply(void 0,l);var j=h?ot:st;return _t(j(y,l),t,r)}var Ue=Ne,Pt=Math.max;function qe(t,r,n){return r=Pt(r===void 0?t.length-1:r,0),function(){for(var e=arguments,o=-1,a=Pt(e.length-r,0),i=Array(a);++o<a;)i[o]=e[r+o];o=-1;for(var u=Array(r+1);++o<r;)u[o]=e[o];return u[r]=n(i),I(t,this,u)}}var ze=qe;function Be(t,r){return ht(ze(t,r,T),t+\\"\\")}var He=Be,Je=32,B=He(function(t,r){var n=A(r,K(B));return Ue(t,Je,void 0,r,n)});B.placeholder={};var Le=B;function Qe(t,r){var n=t+\\" \\"+r;return console.log(n),n}var Ve=Le(Qe,\\"hello\\");Ve(\\"World\\")})();})();
</script>
</body>
</html>
"
`;
